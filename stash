# Stash 配置文件 - 
mode: rule
log-level: info
allow-lan: true
external-controller: 127.0.0.1:9090

proxy-providers:
  default:
    type: http
    url: https://example.com/subscription.yaml
    interval: 3600

rule-providers:
  AI1:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/1664666655/clash/refs/heads/main/list/AI.list
    interval: 86400
  AI2:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/1664666655/clash/refs/heads/main/list/AI2.list
    interval: 86400
  GitHub:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/GitHub/GitHub.list
    interval: 86400
  TikTok:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/TikTok/TikTok.list
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/YouTube.list
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list
    interval: 86400
  Disney:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.list
    interval: 86400
  HBO:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/HBO/HBO.list
    interval: 86400
  Spotify:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.list
    interval: 86400
  StreamingExtra:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/1664666655/clash/refs/heads/main/list/sping.list
    interval: 86400
  Global:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Global/Global.list
    interval: 86400

proxy-groups:
  - name: "AI1"
    type: select
    proxies:
      - DIRECT
      - Auto
      - HK-Auto
      - TW-Auto
      - JP-Auto
      - SG-Auto
      - KR-Auto
      - US-Auto
      - Others-Auto
      - REJECT
  - name: "AI2"
    type: select
    proxies: ["AI1"]
  - name: "GitHub"
    type: select
    proxies: ["AI1"]
  - name: "TikTok"
    type: select
    proxies: ["AI1"]
  - name: "Telegram"
    type: select
    proxies: ["AI1"]
  - name: "Streaming"
    type: select
    proxies: ["AI1"]
  - name: "Global"
    type: select
    proxies: ["AI1"]
  - name: "Auto"
    type: url-test
    use: [default]
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: "HK-Auto"
    type: url-test
    use: [default]
    filter: "HK|Hong Kong|香港"
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: "TW-Auto"
    type: url-test
    use: [default]
    filter: "TW|Taiwan|台灣|台湾"
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: "JP-Auto"
    type: url-test
    use: [default]
    filter: "JP|Japan|日本"
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: "SG-Auto"
    type: url-test
    use: [default]
    filter: "SG|Singapore|新加坡"
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: "KR-Auto"
    type: url-test
    use: [default]
    filter: "KR|Korea|韩国|韓國"
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: "US-Auto"
    type: url-test
    use: [default]
    filter: "US|United States|美国"
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: "Others-Auto"
    type: url-test
    use: [default]
    filter: "Australia|UK|Germany|France|Canada|其他"
    url: http://www.gstatic.com/generate_204
    interval: 300

rules:
  - RULE-SET,AI1,AI1
  - RULE-SET,AI2,AI2
  - RULE-SET,GitHub,GitHub
  - RULE-SET,TikTok,TikTok
  - RULE-SET,Telegram,Telegram
  - RULE-SET,YouTube,Streaming
  - RULE-SET,Netflix,Streaming
  - RULE-SET,Disney,Streaming
  - RULE-SET,HBO,Streaming
  - RULE-SET,Spotify,Streaming
  - RULE-SET,StreamingExtra,Streaming
  - RULE-SET,Global,Global
  - GEOIP,CN,DIRECT
  - MATCH,Global
